function parallax(){if($("#js-parallax-window").length>0){var e=$("#js-parallax-background"),t=$("#js-parallax-window"),o=$(t).offset().top,a=$(window).scrollTop(),n=o-a,i=($(e).offset().top,window.innerHeight,.35);e.css("top",-(n*i)+"px")}}function check_if_in_view(){var e=$window.height(),t=$window.scrollTop(),o=t+e;$.each($animation_elements,function(){var e=$(this),a=e.outerHeight(),n=e.offset().top,i=n+a;i>=t&&n<=o-8?e.addClass("in-view"):e.removeClass("in-view")})}jQuery(document).ready(function(e){var t=1170;if(e(window).width()>t){var o=e(".cd-header").height();e(window).on("scroll",{previousTop:0},function(){var t=e(window).scrollTop();t<this.previousTop?t>0&&e(".cd-header").hasClass("is-fixed")?e(".cd-header").addClass("is-visible"):e(".cd-header").removeClass("is-visible is-fixed"):(e(".cd-header").removeClass("is-visible"),t>o&&!e(".cd-header").hasClass("is-fixed")&&e(".cd-header").addClass("is-fixed")),this.previousTop=t})}e(".cd-primary-nav-trigger").on("click",function(){e(".cd-menu-icon").toggleClass("is-clicked"),e(".cd-header").toggleClass("menu-is-open"),e(".cd-primary-nav").hasClass("is-visible")?e(".cd-primary-nav").removeClass("is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("body").removeClass("overflow-hidden")}):e(".cd-primary-nav").addClass("is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("body").addClass("overflow-hidden")})})}),jQuery(document).ready(function(e){function t(t,o,n){if(n)o.addClass("project-is-open"),t.addClass("is-full-width").siblings("li").removeClass("is-loaded");else{var i=window.getComputedStyle(document.querySelector(".projects-container"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,""),s="mobile"==i?100:0;o.removeClass("project-is-open"),t.animate({opacity:0},800,function(){t.removeClass("is-loaded"),e(".projects-container").find(".cd-scroll").attr("style",""),setTimeout(function(){t.attr("style","").removeClass("is-full-width").find(".cd-title").attr("style","")},s),setTimeout(function(){a(e(".projects-container li").eq(0))},300)})}}function o(){var t=1-e(".projects-container").scrollTop()/300;e(".projects-container .cd-scroll").css("opacity",t),e(".is-full-width .cd-title").css("opacity",t),e(".is-full-width").hide().show(0)}function a(e){e.length>0&&setTimeout(function(){e.addClass("is-loaded"),a(e.next())},150)}e(".cd-single-project").bgLoaded({afterLoaded:function(){a(e(".projects-container li").eq(0))}}),e(".cd-single-project").on("click",function(){var o=e(this),a=!o.hasClass("is-full-width");a&&t(e(this),e(".projects-container"),a)}),e(".projects-container .cd-close").on("click",function(){t(e(".is-full-width"),e(".projects-container"),!1)}),e(".projects-container .cd-scroll").on("click",function(){e(".projects-container").animate({scrollTop:e(window).height()},500)}),e(".projects-container").on("scroll",function(){window.requestAnimationFrame(o)})}),function(e){e.fn.bgLoaded=function(t){var o=this,a={afterLoaded:function(){this.addClass("bg-loaded")}},n=e.extend({},a,t);o.each(function(){var t=e(this),o=window.getComputedStyle(t.get(0),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"").split(", ");t.data("loaded-count",0),e.each(o,function(a,i){var s=i.replace(/^url\(["']?/,"").replace(/["']?\)$/,"");e("<img/>").attr("src",s).load(function(){e(this).remove(),t.data("loaded-count",t.data("loaded-count")+1),t.data("loaded-count")>=o.length&&n.afterLoaded.call(t)})})})}}(jQuery),$(function(){$("input[id^='modal-']").on("change",function(){$(this).is(":checked")?$("body").addClass("modal-open"):$("body").removeClass("modal-open")}),$(".modal-trigger").on("click",function(){$(".cd-header, .busem").addClass("transparent"),$(".white-layer").removeClass("transparent"),$("footer").addClass("transparent")}),$(".m-close").on("click",function(){$(".cd-header, .busem").removeClass("transparent"),$(".white-layer").addClass("transparent"),$("footer").removeClass("transparent"),$(".modal-state:checked").prop("checked",!1).change()}),$(".modal-fade-screen").on("click",function(){$(".modal-state:checked").prop("checked",!1).change()}),$(".modal-inner, .aligner").on("click",function(e){e.stopPropagation()})}),function(e){e.mark={jump:function(t){var o={selector:".scroll"};return"string"==typeof t&&(o.selector=t),t=e.extend(o,t),e(t.selector).click(function(t){var o=e(this),a=o.attr("href"),n=1e3,i=e(a).offset().top;e("html,body").animate({scrollTop:i},n,"swing"),t.preventDefault()})}}}(jQuery),jQuery(function(){jQuery.mark.jump()}),$(document).ready(function(){$("#js-parallax-window").length&&parallax()}),$(window).scroll(function(e){$("#js-parallax-window").length&&parallax()});var fold=$(".fold").offset().top;$(window).scroll(function(){$(window).scrollTop()>=fold?($(".cd-header").addClass("background").removeClass("no-background"),$(".s-nav ul").addClass("show")):($(".cd-header").removeClass("background").addClass("no-background"),$(".s-nav ul").removeClass("show"))}),$(window).scroll(function(){$(".parallax-static-content").css("opacity",1-$(window).scrollTop()/550)}),$(".js-vertical-tab-content").hide(),$(".js-vertical-tab-content:first").show(),$(".js-vertical-tab").click(function(e){e.preventDefault(),$(".js-vertical-tab-content").hide();var t=$(this).attr("rel");$("#"+t).show(),$(".js-vertical-tab").removeClass("is-active"),$(this).addClass("is-active"),$(".js-vertical-tab-accordion-heading").removeClass("is-active"),$(".js-vertical-tab-accordion-heading[rel^='"+t+"']").addClass("is-active")}),$(".js-vertical-tab-accordion-heading").click(function(e){e.preventDefault(),$(".js-vertical-tab-content").hide();var t=$(this).attr("rel");$("#"+t).show(),$(".js-vertical-tab-accordion-heading").removeClass("is-active"),$(this).addClass("is-active"),$(".js-vertical-tab").removeClass("is-active"),$(".js-vertical-tab[rel^='"+t+"']").addClass("is-active")});var lastId,topMenu=$(".s-nav"),topMenuHeight=topMenu.outerHeight(),menuItems=topMenu.find("a"),scrollItems=menuItems.map(function(){var e=$($(this).attr("href"));if(e.length)return e});menuItems.click(function(e){var t=$(this).attr("href"),o="#"===t?0:$(t).offset().top+1;$("html, body").stop().animate({scrollTop:o},1200),e.preventDefault()}),$(window).scroll(function(){var e=$(this).scrollTop()+topMenuHeight,t=scrollItems.map(function(){if($(this).offset().top<e)return this});t=t[t.length-1];var o=t&&t.length?t[0].id:"";lastId!==o&&(lastId=o,menuItems.parent().removeClass("active").end().filter("[href=#"+o+"]").parent().addClass("active"))}),jQuery(document).ready(function(e){var t=300,o=1200,a=700,n=e(".cd-top");e(window).scroll(function(){e(this).scrollTop()>t?n.addClass("cd-is-visible"):n.removeClass("cd-is-visible cd-fade-out"),e(this).scrollTop()>o&&n.addClass("cd-fade-out")}),n.on("click",function(t){t.preventDefault(),e("body,html").animate({scrollTop:0},a)})});var $animation_elements=$(".fadein"),$window=$(window);$window.on("scroll resize",check_if_in_view),$window.trigger("scroll");